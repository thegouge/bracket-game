(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="bracket-game/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},1437:function(e,t,n){},2394:function(e,t,n){},"4adf":function(e,t,n){"use strict";var r=n("2394"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("Simple Bracket Game")]),e.bracketSize<1?n("Create",{on:{"create-bracket":e.initBracket}}):n("Bracket",{attrs:{numPlayers:this.bracketSize}})],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Hello Game master!")]),n("label",{attrs:{for:"size-pick"}},[e._v(" How large would you like your bracket? "),n("br"),n("select",{directives:[{name:"model",rawName:"v-model",value:e.bracketSize,expression:"bracketSize"}],attrs:{name:"bracket-size",id:"size-pick"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.bracketSize=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"4"}},[e._v("4")]),n("option",{attrs:{value:"8"}},[e._v("8")]),n("option",{attrs:{value:"16"}},[e._v("16")])]),e._v(" players ")]),n("br"),n("button",{on:{click:function(t){return e.createBracket(e.bracketSize)}}},[e._v("Create!")])])},o=[],c={name:"Create",data:function(){return{bracketSize:"4"}},methods:{createBracket:function(e){this.$emit("create-bracket",e)}}},l=c,u=(n("a2ce"),n("2877")),d=Object(u["a"])(l,s,o,!1,null,"641221fe",null),p=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[e.champ?n("h1",[e._v(e._s(e.champ)+" has won the tournament!")]):e._e(),e._l(e.rounds,(function(t){return n("Round",{key:"round-"+t.number,attrs:{round:t},on:{champ:e.handleChamp}})}))],2)},h=[],m=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"round"},[n("h2",[e._v("Round "+e._s(e.round.number))]),n("ul",e._l(e.round.matches,(function(t){return n("Match",{key:t.id,attrs:{deets:t,matches:e.round.matches.length},on:{champ:e.handleChamp}})})),1)])}),y=[],v=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"match",attrs:{id:e.deets.id}},[e.deets.round>0?n("div",{staticClass:"next-line"}):e._e(),n("p",[e._v(e._s(e.deets.id))]),n("div",{staticClass:"players"},[n("Player",{staticClass:"player1",style:"border-top-right-radius: "+(e.hideDdown?"var(--radius)":"")+";",attrs:{player:e.deets.players.p1}}),n("Player",{staticClass:"player2",style:"border-bottom-right-radius: "+(e.hideDdown?"var(--radius)":"")+";",attrs:{player:e.deets.players.p2}})],1),e.hideDdown?e._e():n("select",{staticClass:"winner",attrs:{id:e.deets.id+"-winner"},on:{change:e.pickWinner}},[n("option",{attrs:{value:"",selected:""}},[e._v("winner")]),e._l(e.players,(function(t){return n("option",{key:t.id+"-option",domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2),e.picked?n("button",{staticClass:"confirmation",on:{click:e.confirmWinner}},[e._v("Game Master Confirm")]):e._e(),e.deets.id.charCodeAt(0)%2===0?n("div",{staticClass:"bracket-line",style:"height: "+e.bracketDistance/e.matches+"%;"}):e._e()])}),b=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"player"},[n("img",{class:"player-img "+(e.readonly?"ro":""),attrs:{src:e.image,alt:"PlayerIcon",title:"edit this player's icon"},on:{click:function(t){!e.readonly&&e.toggleModal}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.name,expression:"player.name"}],class:"player-name "+(e.readonly?"ro":""),attrs:{type:"text",readonly:e.readonly},domProps:{value:e.player.name},on:{input:function(t){t.target.composing||e.$set(e.player,"name",t.target.value)}}}),n("div",{staticClass:"modal",style:"display: "+(e.isModal?"block":"none")},[n("input",{attrs:{type:"file"},on:{change:e.onFileChange}})])])},k=[],_=(n("7db0"),n("45fc"),{players:[],rounds:[],champ:!1,initPlayers:function(e){for(var t=0;t<e;t++)this.players.push({name:"Player ".concat(t+1),id:t,icon:""});this.initRounds()},updatePlayerImage:function(e,t){this.players[e].icon=t},initRounds:function(){for(var e=this.players.length,t=Math.sqrt(e),n=2*e,r=65,a=0;a<t;a++){n/=2;for(var i=[],s=0;s<n;s+=2){var o=this.rounds[a-1];i.push({id:String.fromCharCode(r++),winner:"",round:a,of:t-1,players:o?{p1:{name:"winner of ".concat(o.matches[s].id),id:-1,winnerOf:o.matches[s].id},p2:{name:"winner of ".concat(o.matches[s+1].id),id:-2,winnerOf:o.matches[s+1].id}}:{p1:this.players[s],p2:this.players[s+1]}})}this.rounds.push({number:a+1,matches:i})}},lockWinner:function(e,t,n){console.log({round:e,match:t,player:n});var r=this.rounds[e].matches.find((function(e){return e.id===t}));r.winner=n,this.rounds[e+1]?this.rounds[e+1].matches.some((function(e){return e.players.p1.winnerOf===r.id?(e.players.p1=n,!0):e.players.p2.winnerOf===r.id&&(e.players.p2=n,!0)}),this.rounds[e+1].matches):this.champ=!0}}),w=n("ffeb"),C=n.n(w),O={name:"Player",props:{player:{type:Object,required:!0}},data:function(){return{isModal:!1}},computed:{image:function(){return this.player.icon||C.a},readonly:function(){return this.player.id<0}},methods:{toggleModal:function(){this.isModal=!this.isModal},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createImage(t[0])},createImage:function(e){var t=this,n=new FileReader;n.onload=function(e){_.updatePlayerImage(t.player.id,e.target.result)},n.readAsDataURL(e),this.toggleModal()}},beforeUpdate:function(){console.log("updating Player!")}},P=O,j=(n("4adf"),Object(u["a"])(P,g,k,!1,null,"0000c454",null)),x=j.exports,M={name:"Match",components:{Player:x},props:{deets:{type:Object,required:!0},matches:{type:Number,required:!0}},data:function(){return{picked:!1,players:this.deets.players}},computed:{hideDdown:function(){return this.deets.players.p1.id<0||this.deets.players.p2.id<0},bracketDistance:function(){var e=_.players.length;switch(e){case 4:return 332;case 8:return 540;case 16:return 950;default:return 1}}},methods:{pickWinner:function(e){this.picked=_.players[e.target.value]},confirmWinner:function(){_.lockWinner(this.deets.round,this.deets.id,this.picked),this.$set(this.players,"players",this.deets.players),_.champ&&this.$emit("champ",this.picked),this.picked=!1}},beforeUpdate:function(){console.log("updating Match!")}},S=M,z=(n("de3e"),Object(u["a"])(S,v,b,!1,null,"c0850124",null)),$=z.exports,B={name:"Round",components:{Match:$},props:{round:{type:Object,required:!0}},methods:{handleChamp:function(e){this.$emit("champ",e.name)}}},R=B,D=(n("b271"),Object(u["a"])(R,m,y,!1,null,"114bf580",null)),q=D.exports,E={name:"Bracket",components:{Round:q},props:{numPlayers:{type:Number,required:!0}},data:function(){return{players:_.players,rounds:_.rounds,champ:!1}},methods:{handleChamp:function(e){this.champ=e}}},I=E,W=(n("bc6c"),Object(u["a"])(I,f,h,!1,null,"456b8858",null)),A=W.exports,N={name:"App",components:{Create:p,Bracket:A},data:function(){return{bracketSize:0,players:[]}},methods:{initBracket:function(e){var t=parseInt(e);_.initPlayers(t),this.bracketSize=t}}},T=N,F=(n("034f"),Object(u["a"])(T,a,i,!1,null,null,null)),G=F.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(G)}}).$mount("#app")},"85ec":function(e,t,n){},"8ffe":function(e,t,n){},"9db6":function(e,t,n){},a2ce:function(e,t,n){"use strict";var r=n("e2c2"),a=n.n(r);a.a},b271:function(e,t,n){"use strict";var r=n("9db6"),a=n.n(r);a.a},bc6c:function(e,t,n){"use strict";var r=n("1437"),a=n.n(r);a.a},de3e:function(e,t,n){"use strict";var r=n("8ffe"),a=n.n(r);a.a},e2c2:function(e,t,n){},ffeb:function(e,t,n){e.exports=n.p+"img/blank.5ab2cbcf.jpg"}});
//# sourceMappingURL=app.dc5cd1c4.js.map